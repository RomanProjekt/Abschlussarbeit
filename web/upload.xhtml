<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>

        <title>Diplomarbeitsdatenbank Arbeiterkammer</title>
        <h:outputStylesheet library= "css" name= "bibliothek_styles.css" />
        <h:outputStylesheet library= "css" name= "Test.css" />

    </h:head>
    <f:metadata>
        <f:viewAction action="#{databaseManagerService.isUserRedirect()}" />
    </f:metadata>
    <h:body>
        <ui:include src="/resources/include/navbar.xhtml" />
        <ui:include src="/resources/include/footer.xhtml" />
        <f:view>

            <h2>Diplomarbeiten hochladen</h2>
            <h3></h3>
            <b:form id="diplomarbeithochladen" enctype="multipart/form-data">

                <h:panelGrid columns="1" cellpadding="5">


                    <b:inputText label="Titel" value="#{uploadBean.titel}" labelStyle="width:80px;">
                    </b:inputText>
                    <h:outputText value="#{uploadBean.titel_fail}"></h:outputText>

                    <h:dataTable value="#{uploadBean.autList}" var="autor" border="2" cellpadding="1" cellspacing="1" >
                        <h:column>
                            <f:facet name="header">Autor</f:facet>
                            <h:outputText value="#{autor.fullName}" rendered="#{!uploadBean.editAutor}" />
                            <h:inputText value="#{autor.fullName}" rendered="#{uploadBean.editAutor}" /> 
                        </h:column>
                        <h:column>
                            <f:facet name="header">Löschen</f:facet>
                            <b:commandButton value="X" />
                        </h:column>
                        <h:column>
                            <f:facet name="header" >Edit</f:facet>
                            <b:commandButton value="Edit" action="#{uploadBean.editAutor(autor)}"  rendered="#{!uploadBean.editAutor}" />
                            <b:commandButton value="Save" action="#{uploadBean.editAutor(autor)}" rendered="#{uploadBean.editAutor}" />
                        </h:column>
                    </h:dataTable>
                    <b:inputText value="#{uploadBean.autor}" />

                    <b:commandButton value="Add Autor" action="#{uploadBean.addAutor()}"  />

                    <b:inputText label="Schule" value="#{uploadBean.schule}" labelStyle="width:80px;">
                    </b:inputText>


                    <h:dataTable value="#{uploadBean.schlagList}" var="schlagwort" border="2" cellpadding="1" cellspacing="1" >
                        <h:column>
                            <f:facet name="header">Schlagwort</f:facet>
                                #{schlagwort.word}
                        </h:column>
                        <h:column>
                            <f:facet name="header">Löschen</f:facet>
                            <b:commandButton value="X" action="#{updateDiplomarbeit.removeTag(schlagwort)}" />
                        </h:column>
                    </h:dataTable>
                    <b:inputText value="#{uploadBean.schlagwort}" typeahead="true" typeahead-limit="20"   typeahead-values="#{uploadBean.allSchlagwTypeahead}" />

                    <b:commandButton value="Add Tag" action="#{uploadBean.addSchlagwort()}" /> 



                    <h5>Diplomarbeit</h5>
                    <h:inputFile id="diplomarbeit-id" value="#{uploadBean.diplomarbeit}"></h:inputFile>
                    <h:outputText value="#{uploadBean.pdfdabei_fail}"></h:outputText>
                    <br></br>

                    <h5>Bild</h5>
                    <h:inputFile id="image-id" value="#{uploadBean.image}"></h:inputFile>
                    <h:outputText value="#{uploadBean.bilddatei_fail}"></h:outputText>
                    <br></br>
                    <b:commandButton value="Diplomarbeit hochladen" action="#{uploadBean.upload_diplomarbeit()}" />
                    <br></br>
                    <b:commandButton value="Back" action="index.xhtml" />

                </h:panelGrid>
            </b:form>
        </f:view>
    </h:body>
</html>
