<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <h:head>

        <title>Diplomarbeitsdatenbank Arbeiterkammer</title>
        <h:outputStylesheet library= "css" name= "Navbar.css" />
        <h:outputStylesheet library= "css" name= "upload.css" />
        <h:outputStylesheet library= "css" name= "include_footer.css" />
        <h:outputStylesheet library= "css" name= "responsiveFooter.css" />
        <h:outputStylesheet library= "css" name= "responsiveNavbar.css" />
        <h:outputStylesheet library= "css" name= "responsiveUpload.css" />

    </h:head>
    <f:metadata>
        <f:viewAction action="#{databaseManagerService.isUserRedirect()}" />
    </f:metadata>
    <h:body>

        <div id="wrapper" class="wrapper">



            <div id="contentindex" class="contentindex">


                <div id="headindex" class="headerindex">

                    <div class="firstheader"><ui:include src="/resources/include/navbar.xhtml"/></div>
                    <div class="red"></div>

                </div>





                <b:form id="formtable1" enctype="multipart/form-data">

                    <div id="main" class="mainindex">

                        <div class="mainTable">   

                            <div id="firstTable" class="firstTable">

  
                                <br/>

                                    <br/>    
                                    <b:inputText label="Titel" value="#{uploadBean.titel}" placeholder="Titel eingeben" />

                                    <h:outputText value="#{uploadBean.titel_fail}"></h:outputText>
                                    <br/>

                                    <b:inputText value="#{uploadBean.autor}" label="Autor" placeholder="Autoren eingeben" />
                                    <b:commandButton value="Add Autor" action="#{uploadBean.addAutor()}">   
                                    </b:commandButton>
                                    

                                    <br/><br/>
        

                                    <p:dataTable  class="noborder" value="#{uploadBean.autList}" var="autor" >
                                        <p:column headerText="Autor">
                                            <h:outputText value="#{autor.fullName}" rendered="#{!uploadBean.editAutor}" />
                                            <h:inputText value="#{autor.fullName}" rendered="#{uploadBean.editAutor}" /> 
                                        </p:column>

                                        <p:column headerText="Löschen">
                                            <b:commandButton value="X" action="#{uploadBean.removeAutor(autor)}" />
                                        </p:column>

                                        <p:column headerText="Edit">
                                            <b:commandButton value="Edit" action="#{uploadBean.editAutor(autor)}"  rendered="#{!uploadBean.editAutor}" />
                                            <b:commandButton value="Save" action="#{uploadBean.editAutor(autor)}" rendered="#{uploadBean.editAutor}" />
                                        </p:column>

                                    </p:dataTable>
                                    
                                    <b:alert value="" rendered="#{uploadBean.autoralert}" severity="info"><strong>Sie müssen mindestens einen Autor angeben</strong> </b:alert>




                             


                            </div>




                            <div class="secondTable" enctype="multipart/form-data">


                                <b:inputText placeholder="Schlagwort eingeben" label="Schlagwort" value="#{uploadBean.schlagwort}" typeahead="true" typeahead-limit="20"   typeahead-values="#{uploadBean.allSchlagwTypeahead}" />
                                <br/><br/>
                                <b:commandButton value="Add Tag" action="#{uploadBean.addSchlagwort()}" /> 

                                <br/><br/>

                                <p:dataTable style="width: 100%" class="table2" value="#{uploadBean.schlagList}" var="schlagwort" >
                                    <p:column headerText="Schlagwort">
                                        <h:outputText value="#{schlagwort.word}"  />  
                                    </p:column>

                                    <p:column headerText="Löschen">
                                         <b:commandButton value="X" action="#{updateDiplomarbeit.removeTag(schlagwort)}" />
                                    </p:column>
                                </p:dataTable>

                            </div>


                            <div class="thirdTable" enctype="multipart/form-data">

                                
                                <b:dateTimePicker placeholder="Datum auswählen" format="DD.MM.YYYY" value="#{uploadBean.datum}" label="Datum" />
                                <br/>
                                <h:outputLabel value="Wähle Sie ihre Schule aus"></h:outputLabel>
                                <b:selectOneMenu value="#{uploadBean.realSchule}"  >
                                    <f:selectItems value="Schule auswählen" itemValue="Schule auswählen" itemLabel="Schule auswählen" />
                                    <f:selectItems value="#{uploadBean.schulList}" var="schule" itemValue="#{schule}" itemLabel="#{schule.name}" />
                                </b:selectOneMenu>
                                <br/>                   

                                <h5>Diplomarbeit</h5>
                                <h:inputFile  value="#{uploadBean.diplomarbeit}"  ></h:inputFile>
                                <h:outputText value="#{uploadBean.pdfdabei_fail}"></h:outputText>
                                <br/>
                                <br/>

                                <b:commandButton value="Diplomarbeit hochladen" action="#{uploadBean.upload_diplomarbeit()}" />
                                <br/><br/>


                            </div>



                        </div>    


                    </div>
                        
                        
                </b:form> 



                
                <div class="footer"><ui:include src="/resources/include/footer.xhtml" /></div>
            </div>
            
        </div>        

    </h:body>
</html>
